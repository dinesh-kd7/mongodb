app:
  name: MongoDB-Backup
  code: MongoDB-Backup
  notify: dkarthik@ecloudcontrol.com

build:
  version: 5.0
  env: DEV
  build_file: none
  output_files: output/*.zip
  image_template: mongo-5.0
  
deploy:
  context: dinesh-kd7/DEV
  type: statefulset
  replicas: 1
  port:
  - 27017

volumes:
- claim: mongo-backup
  mount: /appz/data
  name: mongo-backup
  size: 5Gi
  mode: ReadWriteOnce
  
properties:
    VAULT_ROLE_ID: $VAULT_ROLE_ID 
    VAULT_SECRET_ID: $VAULT_SECRET_ID 
    VAULT_APPROLE: $VAULT_APPROLE
    VAULT_ADDR: https://vault:8200
    DB_USER_ADMIN: appz
    DB_USER_ADMIN_PASSWORD: 
      VAULT: DB_USER_ADMIN_PASSWORD
    MONGODB_HOST: 127.0.0.1
    MONGODB_PORT: 27017
    AUTH_ENABLE: 1
    revision : 02
